{"version":3,"names":[],"mappings":"","sources":["cart-page.js"],"sourcesContent":["console.log('conntect cart page');\r\n\r\n    \r\n\r\n// 1. пікселы до гори екрану від батьківського елементу \r\nlet wrapElement = document.querySelector(\".wrap-ware\");\r\n    \r\nlet stickyBlock = document.querySelector(\"#sticky\");  \r\n  \r\nlet WrapHeight = wrapElement.getBoundingClientRect().height;\r\nlet StickyHeight = stickyBlock.getBoundingClientRect().height;\r\n\r\n\r\nconsole.log(WrapHeight + \"h\")\r\nlet infoAboutHeight;\r\n\r\n// 2. \r\nwindow.onscroll = function (e, sticky) {\r\n  // елемент що треба зафіксувати \r\n  if(window.innerWidth < 1280){\r\n        return;\r\n  }\r\n    let pixelsToTopFromWrap = wrapElement.getBoundingClientRect().top;\r\n    // console.log(stickyBlock);\r\n\r\n   infoAboutHeight =  (WrapHeight + pixelsToTopFromWrap) - StickyHeight;\r\n//    console.log(infoAboutHeight);\r\n\r\n  if(pixelsToTopFromWrap >= 0){\r\n    //   console.log('on top ' + pixelsToTopFromWrap);\r\n      stickyBlock.style.top = \"0px\";\r\n  } else if (pixelsToTopFromWrap < 0 ) {      \r\n        //   console.log('under top ' + pixelsToTopFromWrap);\r\n        if(infoAboutHeight > 0){\r\n            stickyBlock.style.top = pixelsToTopFromWrap*-1 + 15 + \"px\";\r\n\r\n        }   \r\n  }\r\n}\r\n\r\n\r\n\r\n//caLCULATE\r\nlet counterPluses = document.querySelectorAll('.counter-plus');\r\nlet counterMinus = document.querySelectorAll('.counter-minus');\r\n\r\n// place for total quantity \r\nlet placeForTotalQuantity = document.querySelector('.ware-number');\r\nlet placeForTotalQuantityMob = document.querySelector('.ware-number-mob');\r\n//place for total price\r\nlet placeForTotalSum1 = document.querySelector('.ware-calc-sum') ;\r\nlet placeForTotalSumMob = document.querySelector('.ware-calc-sum-mob') ;\r\n// \r\nlet placeForFinalySum  = document.querySelector('.finalSum');\r\nlet placeForFinalySumMob  = document.querySelector('.finalSum-mob');\r\n\r\nfunction calculateQuantity(){\r\n    let counterNumberTotaly = document.querySelectorAll('.counter-number');\r\n    let elemSum = 0;\r\n    console.log(\"counterNumberTotaly = \" + counterNumberTotaly);\r\n    elemSum  = 0;\r\n    counterNumberTotaly.forEach((elem)=>{\r\n            console.log(elem.innerHTML);\r\n            elemSum += parseInt(elem.innerHTML);\r\n    })\r\n    placeForTotalQuantity.innerHTML = elemSum;\r\n    placeForTotalQuantityMob.innerHTML = elemSum;\r\n    \r\n    console.log('elemSum  ' + elemSum);\r\n\r\n}\r\ncalculateQuantity();\r\n\r\n\r\nfunction calculateTotalSum(){\r\n    let counterNumberTotaly = document.querySelectorAll('.placeForPrice');\r\n    let elemsSum = 0;\r\n    console.log(\"counterNumberTotaly = \" + counterNumberTotaly);\r\n    elemsSum  = 0;\r\n    counterNumberTotaly.forEach((elem)=>{\r\n            console.log(elem.innerHTML);\r\n            elemsSum += parseInt(elem.innerHTML);\r\n    })\r\n    placeForTotalSum1.innerHTML = elemsSum;\r\n    placeForFinalySum.innerHTML = elemsSum;\r\n    placeForTotalSumMob.innerHTML = elemsSum;\r\n    placeForFinalySumMob.innerHTML = elemsSum;\r\n    console.log('elemSum  ' + elemsSum);\r\n\r\n}\r\ncalculateTotalSum();\r\n\r\n\r\ncounterPluses.forEach((counterPluses)=>{\r\n    counterPluses.addEventListener('click', (e)=>{\r\n        let thisItemCard = e.target.parentElement.parentElement.parentElement.parentElement;\r\n\r\n        // plce of number in counter\r\n        let NumberItem = thisItemCard.querySelector('.counter-number');\r\n\r\n        // место для суммі\r\n        let placeForPrice = thisItemCard.querySelector('.placeForPrice');\r\n\r\n        // место для того чтоб узнать цену \r\n        let OriginPrice = thisItemCard.querySelector('.originPrice').innerHTML;\r\n\r\n        // add +1 if click on +\r\n        let actualQuantity = NumberItem.innerHTML;\r\n        actualQuantity++;\r\n        \r\n        // take data about price\r\n        let NewWarePrice =  OriginPrice * actualQuantity;\r\n\r\n        placeForPrice.innerHTML = NewWarePrice;\r\n        NumberItem.innerHTML = actualQuantity;               \r\n        // console.log(actualQuantity);\r\n        // console.log(thisItemCard.querySelector('.price-num'));\r\n\r\n        calculateQuantity();\r\n        calculateTotalSum();\r\n\r\n    });\r\n});\r\n\r\n\r\ncounterMinus.forEach((counterMinus)=>{\r\n\r\n    counterMinus.addEventListener('click', (e)=>{\r\n        let thisItemCard = e.target.parentElement.parentElement.parentElement.parentElement;\r\n\r\n        // plce of number in counter\r\n        let NumberItem = thisItemCard.querySelector('.counter-number');\r\n\r\n        // место для суммі\r\n        let placeForPrice = thisItemCard.querySelector('.placeForPrice');\r\n\r\n        // место для того чтоб узнать цену \r\n        let OriginPrice = thisItemCard.querySelector('.originPrice').innerHTML;\r\n\r\n\r\n        // add +1 if click on +\r\n        let actualQuantity = NumberItem.innerHTML;\r\n        if (actualQuantity <= 0){\r\n            return;\r\n        } else{\r\n\r\n            actualQuantity--;\r\n        }\r\n\r\n        // take data about price\r\n        let NewWarePrice =  OriginPrice * actualQuantity;\r\n\r\n        placeForPrice.innerHTML = NewWarePrice;\r\n        NumberItem.innerHTML = actualQuantity;               \r\n        // console.log(actualQuantity);\r\n        // console.log(thisItemCard.querySelector('.price-num'));\r\n        calculateQuantity();\r\n        calculateTotalSum();\r\n\r\n    });\r\n});\r\n\r\n\r\n\r\nlet deleteBlockTrigger = document.querySelectorAll('.delete-img');\r\n\r\n\r\ndeleteBlockTrigger.forEach((deleteBlockTrigger)=>{\r\n    deleteBlockTrigger.addEventListener('click', (e)=>{\r\n        \r\n        e.target.closest(\".ware-item\").remove();\r\n\r\n        \r\n        calculateQuantity();\r\n        calculateTotalSum();\r\n\r\n        console.log('test');\r\n\r\n    });\r\n})"],"file":"cart-page.js"}